# Структура проекта

## Организация директорий

```
.
├── .kiro/                          # Конфигурация и спецификации Kiro
│   ├── specs/                      # Спецификации проекта
│   │   └── haproxy-load-balancing/ # Спецификация текущей функции
│   └── steering/                   # Правила руководства для ИИ-помощника
├── configs/                        # Конфигурационные файлы HAProxy
│   ├── task1-roundrobin.cfg       # Конфигурация round-robin 4-го уровня
│   └── task2-weighted.cfg         # Конфигурация взвешенной балансировки 7-го уровня
├── servers/                        # Python backend-серверы
│   ├── server.py                  # Пользовательский HTTP-сервер с логированием
│   └── start_servers.sh           # Скрипт управления серверами
├── tests/                         # Скрипты тестирования и валидации
│   ├── test_roundrobin.sh         # Тест балансировки 4-го уровня
│   ├── test_weighted.sh           # Тест балансировки 7-го уровня
│   └── test_domain_routing.sh     # Тест маршрутизации по доменам
├── docs/                          # Документация и скриншоты
│   ├── screenshots/               # Визуальное подтверждение функциональности
│   └── README.md                  # Документация проекта
└── scripts/                       # Утилиты и скрипты автоматизации
    ├── setup.sh                   # Настройка окружения
    └── cleanup.sh                 # Процессы очистки
```

## Соглашения по именованию файлов

### Конфигурационные файлы
- Используйте описательные имена, указывающие задачу/функцию: `task1-roundrobin.cfg`
- Включайте тип алгоритма в имя файла для ясности
- Используйте расширение `.cfg` для конфигураций HAProxy

### Скрипты
- Используйте паттерн глагол-существительное: `start_servers.sh`, `test_roundrobin.sh`
- Включайте назначение в имя файла: `setup.sh`, `cleanup.sh`
- Используйте расширение `.sh` для bash-скриптов
- Используйте расширение `.py` для Python-скриптов

### Документация
- Используйте строчные буквы с дефисами: `load-balancing-guide.md`
- Скриншоты должны включать временную метку или порядковый номер
- README файлы должны находиться в корне соответствующих директорий

## Принципы организации кода

### Конфигурации HAProxy
- Группируйте связанные директивы вместе (global, defaults, frontend, backend)
- Используйте последовательные отступы (4 пробела)
- Включайте комментарии, объясняющие сложные ACL или правила маршрутизации
- Разделяйте различные задачи/сценарии на разные конфигурационные файлы

### Python-серверы
- Сохраняйте реализации серверов простыми и сфокусированными
- Включайте правильное логирование для отслеживания запросов в отдельные файлы
- Используйте аргументы командной строки для конфигурации портов
- Реализуйте корректное завершение работы
- Логи записываются в директорию logs/ с именами server_{port}.log

### Тестовые скрипты
- Каждый тестовый скрипт должен фокусироваться на одном конкретном сценарии
- Включайте четкий вывод, показывающий, какой сервер обработал каждый запрос
- Предоставляйте сводную статистику распределения нагрузки
- Используйте последовательное форматирование вывода для легкого парсинга

## Руководящие принципы разработки

### При добавлении новых функций
1. Создавайте новые конфигурационные файлы вместо изменения существующих
2. Добавляйте соответствующие тестовые скрипты для валидации
3. Обновляйте документацию с новыми сценариями
4. Включайте скриншоты, демонстрирующие новую функциональность

### Правила размещения файлов
- Конфигурационные файлы помещаются в директорию `configs/`
- Все исполняемые скрипты помещаются в соответствующие поддиректории
- Документация и визуальные доказательства помещаются в `docs/`
- Поддерживайте корневую директорию чистой, только с необходимыми файлами